
/* =======================================================================
   ULTRA SPARKLY (FORCE OVERRIDE)
   High-specificity + !important so it overrides previous .pill styles
   Applies globally to .pill.green (bonus) and .pill.red (malus).
======================================================================== */

@keyframes us_shimmer {
  0%   { transform: translateX(-120%) skewX(-20deg); opacity: 0; }
  15%  { opacity: .85; }
  50%  { transform: translateX(0)        skewX(-20deg); opacity: 1; }
  85%  { opacity: .85; }
  100% { transform: translateX(120%)  skewX(-20deg); opacity: 0; }
}
@keyframes us_sparkleFloat {
  0%   { background-position: 0% 0%, 0% 0%, 0% 0%; }
  100% { background-position: 140% 0%, -140% 0%, 220% 0%; }
}
@keyframes us_twinkle {
  0%, 100% { opacity: .28; filter: brightness(1); }
  50%      { opacity: .95; filter: brightness(1.25); }
}

/* Base override */
body .pill.green,
body .pill.red{
  position: relative !important;
  overflow: hidden !important;
  isolation: isolate !important;
  display: inline-flex !important;
  align-items: center !important;
  gap: 6px !important;
  padding: 4px 12px !important;
  font-weight: 800 !important;
  color: #f8fbff !important;
  text-shadow: 0 1px 1px rgba(0,0,0,.35) !important;
  border-radius: 999px !important;
  transform: translateZ(0) !important;
}

/* Bonus (green) */
body .pill.green{
  border: 1px solid rgba(34,197,94,.80) !important;
  background: linear-gradient(135deg,#10b981 0%,#0c9467 55%,#0a7a57 100%) !important;
  box-shadow:
    0 0 10px rgba(34,197,94,.55),
    0 0 22px rgba(15,133,92,.28),
    inset 0 0 10px rgba(255,255,255,.10) !important;
}

/* Malus (red) */
body .pill.red{
  border: 1px solid rgba(239,68,68,.80) !important;
  background: linear-gradient(135deg,#ef4444 0%,#c02626 55%,#8a1f1f 100%) !important;
  box-shadow:
    0 0 10px rgba(239,68,68,.55),
    0 0 22px rgba(139,32,32,.28),
    inset 0 0 10px rgba(255,255,255,.10) !important;
}

/* Sparkle particles */
body .pill.green::before,
body .pill.red::before{
  content:"";
  position:absolute; inset:-2px; border-radius:inherit; pointer-events:none;
  background:
    radial-gradient(2px 2px at 12% 30%, rgba(255,255,255,.95), transparent 60%) 0 0 / 180px 100% no-repeat,
    radial-gradient(1.5px 1.5px at 58% 72%, rgba(255,255,255,.75), transparent 60%) 0 0 / 140px 100% no-repeat,
    radial-gradient(1px 1px at 32% 48%, rgba(255,255,255,.6), transparent 60%) 0 0 / 110px 100% no-repeat;
  mix-blend-mode: screen;
  animation: us_sparkleFloat 6s linear infinite, us_twinkle 2.2s ease-in-out infinite;
  opacity:.6;
}

/* Glossy sweeping ribbon */
body .pill.green::after,
body .pill.red::after{
  content:"";
  position:absolute; top:-40%; bottom:-40%; left:0; width:55%;
  border-radius:16px; pointer-events:none;
  background: linear-gradient(120deg,
    rgba(255,255,255,0) 0%,
    rgba(255,255,255,.25) 40%,
    rgba(255,255,255,.65) 50%,
    rgba(255,255,255,.25) 60%,
    rgba(255,255,255,0) 100%);
  filter: blur(.4px);
  transform: translateX(-120%) skewX(-20deg);
  animation: us_shimmer 2.2s ease-in-out infinite;
  mix-blend-mode: screen;
}

/* Hover bump */
body .pill.green:hover,
body .pill.red:hover{
  filter: saturate(1.08) !important;
  box-shadow:
    0 0 14px rgba(255,255,255,.22),
    0 0 26px rgba(255,255,255,.12),
    inset 0 0 12px rgba(255,255,255,.14) !important;
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
  body .pill.green::before, body .pill.red::before,
  body .pill.green::after, body .pill.red::after{ animation: none !important; }
}
